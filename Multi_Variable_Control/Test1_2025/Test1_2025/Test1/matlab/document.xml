<?xml version="1.0" encoding="UTF-8"?><w:document xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"><w:body><w:p><w:pPr><w:pStyle w:val="title"/><w:jc w:val="left"/></w:pPr><w:r><w:t>Test 1 - Multivariable Control ME-422</w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:b/></w:rPr><w:t>Student names: </w:t></w:r><w:r><w:rPr><w:i/></w:rPr><w:t>[COMPLETE WITH YOUR NAMES!!!]</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>1)</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>2) </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>3) </w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:b/><w:i/></w:rPr><w:t>Info: </w:t></w:r><w:r><w:rPr><w:i/></w:rPr><w:t>The test is open books, open notes.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Once you finished the test, compress the following files into a single zip file:</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="2"/></w:numPr><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>'Test1.mlx',</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="2"/></w:numPr><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Simulink model(s),</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="2"/></w:numPr><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>'motor_func.m' and any auxiliary </w:t></w:r><w:r><w:rPr><w:i/><w:rFonts w:cs="monospace"/></w:rPr><w:t>.m</w:t></w:r><w:r><w:rPr><w:i/></w:rPr><w:t> files you might have created,</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Name the file "TEST_1_GROUP_xx.zip", where 'xx' is the group number. Then, upload the zip file on Moodle.</w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="heading"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:b/></w:rPr><w:t>Simulink Modeling, Linearization and Stability Analysis</w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[clc
clear all]]></w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>In this test, we will consider a separately excited DC motor.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:customXml w:element="image"><w:customXmlPr><w:attr w:name="height" w:val="287"/><w:attr w:name="width" w:val="574"/><w:attr w:name="verticalAlign" w:val="baseline"/><w:attr w:name="altText" w:val="Screenshot 2023-09-29 at 15.21.38.png"/><w:attr w:name="relationshipId" w:val="rId1"/></w:customXmlPr></w:customXml></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>The dynamics of the system can be modeled by the following nonlinear state-space equations:</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="true"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId2"/></w:customXmlPr><w:r><w:t>{\dot{x} }_1 \left(t\right)=\frac{1}{L_a }\left(u_1 \left(t\right)-R_a \;x_1 \left(t\right)-K_m \;x_2 \left(t\right)\;x_3 \left(t\right)\right)</w:t></w:r></w:customXml></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="true"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId3"/></w:customXmlPr><w:r><w:t>{\dot{x} }_2 \left(t\right)=u_2 \left(t\right)-R_e {\;g}^{-1} \left(x_2 \left(t\right)\right)</w:t></w:r></w:customXml></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="true"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId4"/></w:customXmlPr><w:r><w:t>{\dot{x} }_3 \left(t\right)=\frac{1}{J}\left(K_m \;x_1 \left(t\right)\;x_2 \left(t\right)-b_m \;x_3 \left(t\right)\right)</w:t></w:r></w:customXml></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>where </w:t></w:r><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId5"/></w:customXmlPr><w:r><w:t>{\;g}^{-1} \left(\cdot \;\right)</w:t></w:r></w:customXml><w:r><w:t> is the inverse function of the field characteristic and is given by</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId6"/></w:customXmlPr><w:r><w:t>g^{-1} \left(x\right)=7\cdot \textrm{atanh}\left(\frac{x}{550}\right)</w:t></w:r></w:customXml><w:r><w:t>.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>The </w:t></w:r><w:r><w:rPr><w:b/></w:rPr><w:t>control inputs</w:t></w:r><w:r><w:t> are</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="1"/></w:numPr><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId7"/></w:customXmlPr><w:r><w:t>u_1 \left(t\right)=U_a \left(t\right)</w:t></w:r></w:customXml><w:r><w:t> the armature voltage [V],</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="1"/></w:numPr><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId8"/></w:customXmlPr><w:r><w:t>u_2 \left(t\right)=U_e \left(t\right)</w:t></w:r></w:customXml><w:r><w:t> the excitation voltage [V].</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>The </w:t></w:r><w:r><w:rPr><w:b/></w:rPr><w:t>states</w:t></w:r><w:r><w:t> are</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="1"/></w:numPr><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId9"/></w:customXmlPr><w:r><w:t>x_1 \left(t\right)=\;i_a \left(t\right)</w:t></w:r></w:customXml><w:r><w:t> the armature current [A], </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="1"/></w:numPr><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId10"/></w:customXmlPr><w:r><w:t>x_2 \left(t\right)=\phi_e \left(t\right)</w:t></w:r></w:customXml><w:r><w:t> the magnetic flux in field winding of the excitation circuit [Wb], </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="1"/></w:numPr><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId11"/></w:customXmlPr><w:r><w:t>x_3 \left(t\right)=\omega \left(t\right)</w:t></w:r></w:customXml><w:r><w:t> the angular velocity [rad/s]. </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>For the </w:t></w:r><w:r><w:rPr><w:b/></w:rPr><w:t>outputs</w:t></w:r><w:r><w:t>, we consider the armature current and angular velocity, in rpm (revolutions per minute):</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="1"/></w:numPr><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId12"/></w:customXmlPr><w:r><w:t>y_1 \left(t\right)=x_1 \left(t\right)</w:t></w:r></w:customXml><w:r><w:t>,</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListParagraph"/><w:numPr><w:numId w:val="1"/></w:numPr><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId13"/></w:customXmlPr><w:r><w:t>y_2 \left(t\right)=\frac{60}{2\pi \;}x_3 \left(t\right)</w:t></w:r></w:customXml><w:r><w:t>.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>The </w:t></w:r><w:r><w:rPr><w:b/></w:rPr><w:t>parameter values</w:t></w:r><w:r><w:t> are given by:</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[La = 0.003;  % [H]
Ra = 0.05;   % [Ohms]
Km = 0.016;  % (unitless)
Re = 25.2;   % [Ohms]
J = 15;      % [kg m^2]
bm = 1.1;    % [N m s]]]></w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>1) Implement the nonlinear model of the system in Simulink, and save it as </w:t></w:r><w:r><w:rPr><w:rFonts w:cs="monospace"/></w:rPr><w:t>motor.slx</w:t></w:r><w:r><w:t>.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>You may use the MATLAB function </w:t></w:r><w:r><w:rPr><w:rFonts w:cs="monospace"/></w:rPr><w:t>motor_func.m</w:t></w:r><w:r><w:t>, which takes as input the control inputs, states and parameter values and computes the time derivatives of states in the nonlinear system above.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Hint: Implement the state dynamics first. Once you have implemented the state dynamics, add the output equations to the Simulink model.</w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>2) Assume that the system is initialized at zero:</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[x1_ini = 0;   % i_a
x2_ini = 0;   % phi_e
x3_ini = 0;   % omega]]></w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>Simulate the evolution of the system when the following control input is applied:</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="true"/></w:customXmlPr><w:r><w:t>u_1(t) =
\begin{cases}
0 &amp; \text{if } 0 \leq t &lt; 10, \\
\frac{\bar{U}_a}{10} (t-10) &amp; \text{if } 10 \leq t &lt; 20, \\
\bar{U}_a &amp; \text{if } t \geq 20,
\end{cases}</w:t></w:r></w:customXml></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId14"/></w:customXmlPr><w:r><w:t>u_2 \left(t\right)={\bar{U} }_e</w:t></w:r></w:customXml><w:r><w:t>,</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>with </w:t></w:r><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId15"/></w:customXmlPr><w:r><w:t>{\bar{U} }_a =460\;V</w:t></w:r></w:customXml><w:r><w:t> and </w:t></w:r><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId16"/></w:customXmlPr><w:r><w:t>{\bar{U} }_e =184\;V</w:t></w:r></w:customXml><w:r><w:t>.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Hint: Implement the control input </w:t></w:r><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId17"/></w:customXmlPr><w:r><w:t>u_1 \left(t\right)</w:t></w:r></w:customXml><w:r><w:rPr><w:i/></w:rPr><w:t> in Simulink as the sum of two Ramp blocks with positive and negative slope.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[Ua_bar = 460;
Ue_bar = 184;
% Insert your code here for running the simulation in Simulink
]]></w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>a) Plot the input and output trajectories in this live script by importing the data from Simulink.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[% Insert your code here
]]></w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>b) Plot the state trajectories in this live script by importing the data from Simulink.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[% Insert your code here
]]></w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>3) Find the equilibrium state when a constant input of </w:t></w:r><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId18"/></w:customXmlPr><w:r><w:t>\bar{u} ={\left\lbrack {\bar{U} }_a ,{\bar{U} }_e \right\rbrack }^{\top }</w:t></w:r></w:customXml><w:r><w:t> is applied </w:t></w:r><w:r><w:rPr><w:b/></w:rPr><w:t>by simulating the system and analyzing the trajectories.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Hint: Note that </w:t></w:r><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId19"/></w:customXmlPr><w:r><w:t>\bar{u}</w:t></w:r></w:customXml><w:r><w:rPr><w:i/></w:rPr><w:t> is the input applied in question 2 after </w:t></w:r><w:customXml w:element="equation"><w:customXmlPr><w:attr w:name="displayStyle" w:val="false"/><w:attr w:name="encoding" w:val="mathml"/><w:attr w:name="relationshipId" w:val="rId20"/></w:customXmlPr><w:r><w:t>t=20\;s</w:t></w:r></w:customXml><w:r><w:rPr><w:i/></w:rPr><w:t>.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[% Insert your code here.

% x1_bar = ...;
% x2_bar = ...;
% x3_bar = ...;

fprintf("The equilibrium state is given by \n" + ...
"x1_bar = %.2f A, \nx2_bar = %.2f Wb, \nx3_bar = %.2f rad/s.", x1_bar, x2_bar, x3_bar);]]></w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>4) Linearize the system around the computed equilibrium.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Hint: Use the Timed-Based Linearization block, selecting the appropriate inputs and outputs.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[% Insert your code here

% sys.A = ...;
% sys.B = ...;
% sys.C = ...;
% sys.D = ...;

fprintf("The linearized system is given by:");
sys_lin = ss(sys.A, sys.B, sys.C, sys.D)]]></w:t></w:r></w:p><w:p><w:pPr><w:sectPr/></w:pPr></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>5) [Bonus point]</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>a) Analyze the stability of the linearized system.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:t>b) Can you conclude anything about the stability of the equilibrium of the nonlinear system?</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="code"/></w:pPr><w:r><w:t><![CDATA[% If needed, insert your code here:
]]></w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t>Anwser:</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="text"/><w:jc w:val="left"/></w:pPr><w:r><w:rPr><w:i/></w:rPr><w:t></w:t></w:r></w:p></w:body></w:document>